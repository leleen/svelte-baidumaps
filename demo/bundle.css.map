{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\Map.svelte"
  ],
  "sourcesContent": [
    "<ApiSdk on:ready={initialise} />\r\n<div bind:this={mapElement}>\r\n\t{#if map}\r\n\t\t<slot></slot>\r\n\t{/if}\r\n</div>\r\n\r\n<style>\r\ndiv {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9jb21wb25lbnRzL01hcC5zdmVsdGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZCIsImZpbGUiOiJzcmMvY29tcG9uZW50cy9NYXAuc3ZlbHRlIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmRpdiB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcbiJdfQ== */</style>\r\n\r\n<script>\r\n  import { setContext } from 'svelte';\r\n  import { createEventDispatcher } from 'svelte'\r\n  import ApiSdk from './ApiSdk.svelte'\r\n  import { contextKey } from './stores.js';\r\n\r\n  setContext(contextKey, {\r\n    getMap: () => map,\r\n    getBdMap: () => bdmap\r\n  });\r\n  \r\n  const dispatch = createEventDispatcher();\r\n\r\n  let mapElement;\r\n  let map;\r\n  let bdmap;\r\n  let point;\r\n  \r\n  export let withCenterMarker = false;\r\n  export let options = {\r\n    zoom: 15\r\n  }\r\n\r\n  export function getDomBounds() {\r\n    return mapElement.getBoundingClientRect()\r\n  }\r\n\r\n  export function getDefaultView() {\r\n    return mapElement.ownerDocument.defaultView\r\n  }\r\n\r\n  export function setHeight(height) {\r\n    mapElement.style.height = height\r\n  }\r\n\r\n  export function setMaxHeight(height) {\r\n    mapElement.style.maxHeight = height\r\n  }\r\n\r\n  export function setCentre(location) {\r\n    map.setCenter(location)\r\n  }\r\n\r\n  export function setPointsInView(pointArray) {\r\n    map.setViewport(pointArray)\r\n  }\r\n\r\n  function initialise () {\r\n    setTimeout(() => {\r\n      bdmap = window['BMap'] = BMap;\r\n      map = new bdmap.Map(mapElement, {\r\n        enableBizAuthLogo: false\r\n      });\r\n      map.disableBizAuthLogo(); //关闭JSAPI商用授权挂件\r\n      // map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放\r\n      \r\n      if (typeof options.lng !== \"undefined\" && typeof options.lat !== \"undefined\") {\r\n        point = new bdmap.Point(options.lng, options.lat)\r\n        \r\n        map.centerAndZoom(point, options.zoom)\r\n        \r\n        if (withCenterMarker) {\r\n          var marker = new bdmap.Marker(point);  // 创建标注\r\n          marker.enableDragging(); //marker可拖拽\r\n          map.addOverlay(marker); //在地图中添加marker\r\n          var label = new bdmap.Label(options.label,{offset:new bdmap.Size(20,-10)});\r\n          label.setStyle({ color : \"red\", fontSize : \"1.2rem\" });\r\n          \r\n          marker.setLabel(label);\r\n        }\r\n      }\r\n\r\n      dispatch('ready')\r\n    }, 1)\r\n  }\r\n</script>\r\n"
  ],
  "names": [],
  "mappings": "AAQA,GAAG,cAAC,CAAC,AACH,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACd,CAAC"
}